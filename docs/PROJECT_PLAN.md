# AG Quota Watcher Desktop - é¡¹ç›®è®¡åˆ’ä¹¦

## ä¸€ã€é¡¹ç›®èƒŒæ™¯

### 1.1 é¡¹ç›®æ¥æº

æœ¬é¡¹ç›®åŸºäºŽ [antigravity-quota-watcher](https://github.com/wusimpl/AntigravityQuotaWatcher) VS Code æ’ä»¶ï¼Œè¯¥æ’ä»¶é€šè¿‡ Google Cloud Code API èŽ·å– AI æ¨¡åž‹é…é¢ä¿¡æ¯å¹¶åœ¨ IDE çŠ¶æ€æ æ˜¾ç¤ºã€‚

### 1.2 é—®é¢˜ä¸Žéœ€æ±‚

çŽ°æœ‰æ’ä»¶å­˜åœ¨ä»¥ä¸‹å±€é™æ€§ï¼š
- ä»…èƒ½åœ¨ VS Code åŠå…¶ fork IDE ä¸­ä½¿ç”¨
- æ— æ³•åœ¨éžç¼–ç åœºæ™¯ä¸‹æŸ¥çœ‹é…é¢
- éœ€è¦æ‰“å¼€ IDE æ‰èƒ½èŽ·å–é…é¢ä¿¡æ¯

ç”¨æˆ·å¸Œæœ›èƒ½å¤Ÿï¼š
- éšæ—¶éšåœ°åœ¨æ¡Œé¢æŸ¥çœ‹ AI æ¨¡åž‹å‰©ä½™é…é¢
- ç®¡ç†å¤šä¸ª Google è´¦æˆ·çš„é…é¢
- ä»¥æ›´ç›´è§‚çš„æ–¹å¼å±•ç¤ºé…é¢ä¿¡æ¯

### 1.3 é¡¹ç›®ç›®æ ‡

å¼€å‘ä¸€ä¸ªç‹¬ç«‹çš„æ¡Œé¢æ‚¬æµ®çª—åº”ç”¨ï¼Œæä¾›ï¼š
- å®žæ—¶é…é¢ç›‘æŽ§
- å¤šè´¦æˆ·ç®¡ç†
- å¯è§†åŒ–é…é¢å±•ç¤º
- ä½Žé…é¢é¢„è­¦é€šçŸ¥

---

## äºŒã€åŠŸèƒ½éœ€æ±‚

### 2.1 æ ¸å¿ƒåŠŸèƒ½

#### 2.1.1 Google è´¦æˆ·ç®¡ç†

| åŠŸèƒ½ | æè¿° |
|------|------|
| æ·»åŠ è´¦æˆ· | é€šè¿‡ OAuth 2.0 ç™»å½• Google è´¦æˆ· |
| åˆ é™¤è´¦æˆ· | ç§»é™¤å·²æ·»åŠ çš„è´¦æˆ·åŠå…¶ Token |
| åˆ‡æ¢è´¦æˆ· | åœ¨å¤šä¸ªè´¦æˆ·é—´åˆ‡æ¢æŸ¥çœ‹é…é¢ |
| è´¦æˆ·åˆ—è¡¨ | æ˜¾ç¤ºæ‰€æœ‰å·²æ·»åŠ è´¦æˆ·çš„é‚®ç®± |

#### 2.1.2 æ¨¡åž‹é…ç½®

| åŠŸèƒ½ | æè¿° |
|------|------|
| æ¨¡åž‹åˆ—è¡¨ | ä»Ž API èŽ·å–å¯ç”¨æ¨¡åž‹åˆ—è¡¨ |
| æ˜¾ç¤ºæŽ§åˆ¶ | ç”¨æˆ·å¯é€‰æ‹©æ˜¾ç¤º/éšè—ç‰¹å®šæ¨¡åž‹ |
| åˆ«åè®¾ç½® | ä¸ºæ¨¡åž‹è®¾ç½®ç®€çŸ­åˆ«åï¼ˆå¦‚ "gemini-2.5-pro" â†’ "Pro"ï¼‰ |
| æŽ’åº | æ”¯æŒæ‹–æ‹½è°ƒæ•´æ¨¡åž‹æ˜¾ç¤ºé¡ºåº |

#### 2.1.3 é…é¢æ˜¾ç¤º

| åŠŸèƒ½ | æè¿° |
|------|------|
| åœ†çŽ¯è¿›åº¦æ¡ | æ¯ä¸ªæ¨¡åž‹ä½¿ç”¨ç‹¬ç«‹åœ†çŽ¯æ˜¾ç¤ºé…é¢ç™¾åˆ†æ¯” |
| é¢œè‰²åˆ†çº§ | æ ¹æ®å‰©ä½™é…é¢æ˜¾ç¤ºä¸åŒé¢œè‰² |
| åˆ«åæ˜¾ç¤º | åœ†çŽ¯ä¸‹æ–¹æ˜¾ç¤ºæ¨¡åž‹åˆ«åè€Œéžå®Œæ•´åç§° |
| é‡ç½®æ—¶é—´ | æ˜¾ç¤ºé…é¢é‡ç½®å€’è®¡æ—¶ |

**é¢œè‰²åˆ†çº§è§„åˆ™ï¼ˆé˜ˆå€¼å¯é…ç½®ï¼‰ï¼š**
- ðŸŸ¢ ç»¿è‰²ï¼šå‰©ä½™ > 50%ï¼ˆå……è¶³ï¼‰
- ðŸŸ¡ é»„è‰²ï¼šå‰©ä½™ 30%-50%ï¼ˆè­¦å‘Šï¼‰
- ðŸ”´ çº¢è‰²ï¼šå‰©ä½™ < 30%ï¼ˆç´§æ€¥ï¼‰
- âš« ç°è‰²ï¼šå‰©ä½™ = 0%ï¼ˆè€—å°½ï¼‰

#### 2.1.4 ç³»ç»Ÿé€šçŸ¥

| åŠŸèƒ½ | æè¿° |
|------|------|
| ä½Žé…é¢é€šçŸ¥ | é…é¢ä½ŽäºŽè­¦å‘Šé˜ˆå€¼æ—¶å‘é€ç³»ç»Ÿé€šçŸ¥ |
| è€—å°½é€šçŸ¥ | é…é¢å®Œå…¨è€—å°½æ—¶å‘é€é€šçŸ¥ |
| é€šçŸ¥å¼€å…³ | å¯å•ç‹¬å¼€å¯/å…³é—­é€šçŸ¥åŠŸèƒ½ |

### 2.2 çª—å£ç‰¹æ€§

| åŠŸèƒ½ | æè¿° |
|------|------|
| æ‚¬æµ®ç½®é¡¶ | çª—å£å§‹ç»ˆæ˜¾ç¤ºåœ¨å…¶ä»–çª—å£ä¹‹ä¸Š |
| æ‹–æ‹½ç§»åŠ¨ | æ”¯æŒæ‹–æ‹½çª—å£åˆ°ä»»æ„ä½ç½® |
| ä½ç½®è®°å¿† | è®°ä½çª—å£ä½ç½®ï¼Œé‡å¯åŽæ¢å¤ |
| æœ€å°åŒ–åˆ°æ‰˜ç›˜ | ç‚¹å‡»å…³é—­æŒ‰é’®æœ€å°åŒ–åˆ°ç³»ç»Ÿæ‰˜ç›˜ |
| æ‰˜ç›˜èœå• | å³é”®æ‰˜ç›˜å›¾æ ‡æ˜¾ç¤ºå¿«æ·èœå• |

### 2.3 è®¾ç½®åŠŸèƒ½

| è®¾ç½®é¡¹ | æè¿° | é»˜è®¤å€¼ |
|--------|------|--------|
| åˆ·æ–°é¢‘çŽ‡ | é…é¢æ•°æ®è½®è¯¢é—´éš” | 60 ç§’ |
| è­¦å‘Šé˜ˆå€¼ | æ˜¾ç¤ºé»„è‰²çš„é…é¢ç™¾åˆ†æ¯” | 50% |
| ç´§æ€¥é˜ˆå€¼ | æ˜¾ç¤ºçº¢è‰²çš„é…é¢ç™¾åˆ†æ¯” | 30% |
| å¼€æœºè‡ªå¯ | ç³»ç»Ÿå¯åŠ¨æ—¶è‡ªåŠ¨è¿è¡Œ | å…³é—­ |
| è¯­è¨€ | ç•Œé¢è¯­è¨€ï¼ˆä¸­æ–‡/è‹±æ–‡ï¼‰ | è·Ÿéšç³»ç»Ÿ |
| é€šçŸ¥å¼€å…³ | æ˜¯å¦å¯ç”¨ç³»ç»Ÿé€šçŸ¥ | å¼€å¯ |

### 2.4 å¤šè¯­è¨€æ”¯æŒ

æ”¯æŒä»¥ä¸‹è¯­è¨€ï¼š
- ç®€ä½“ä¸­æ–‡ï¼ˆzh-CNï¼‰
- Englishï¼ˆenï¼‰

è¯­è¨€åˆ‡æ¢æ–¹å¼ï¼š
- è‡ªåŠ¨æ£€æµ‹ç³»ç»Ÿè¯­è¨€
- æ‰‹åŠ¨åœ¨è®¾ç½®ä¸­åˆ‡æ¢

---

## ä¸‰ã€æŠ€æœ¯æ–¹æ¡ˆ

### 3.1 æŠ€æœ¯æ ˆ

| å±‚çº§ | æŠ€æœ¯é€‰åž‹ | è¯´æ˜Ž |
|------|----------|------|
| æ¡†æž¶ | Electron | è·¨å¹³å°æ¡Œé¢åº”ç”¨æ¡†æž¶ |
| å‰ç«¯ | React + TypeScript | UI å¼€å‘ |
| æ ·å¼ | Tailwind CSS æˆ– CSS Modules | æ ·å¼æ–¹æ¡ˆ |
| çŠ¶æ€ç®¡ç† | Zustand æˆ– Context | è½»é‡çº§çŠ¶æ€ç®¡ç† |
| æž„å»º | Vite | å¿«é€Ÿæž„å»ºå·¥å…· |
| æ‰“åŒ… | electron-builder | åº”ç”¨æ‰“åŒ…åˆ†å‘ |

### 3.2 ä»£ç å¤ç”¨

ä»Ž antigravity-quota-watcher å¤ç”¨ä»¥ä¸‹æ¨¡å—ï¼š

| æ¨¡å— | æ–‡ä»¶ | å¤ç”¨å†…å®¹ |
|------|------|----------|
| API å®¢æˆ·ç«¯ | `googleCloudCodeClient.ts` | Google API è°ƒç”¨é€»è¾‘ |
| å¸¸é‡é…ç½® | `constants.ts` | OAuth é…ç½®ã€API ç«¯ç‚¹ |
| ç±»åž‹å®šä¹‰ | `types.ts` | æ•°æ®ç»“æž„å®šä¹‰ |

éœ€è¦é‡æ–°å®žçŽ°ï¼š

| æ¨¡å— | è¯´æ˜Ž |
|------|------|
| Token å­˜å‚¨ | ä½¿ç”¨ electron-store æˆ– keytar åŠ å¯†å­˜å‚¨ |
| OAuth å›žè°ƒ | é€‚é…æ¡Œé¢åº”ç”¨çš„ OAuth æµç¨‹ |
| UI ç•Œé¢ | å…¨æ–°çš„æ‚¬æµ®çª—ç•Œé¢ |

### 3.3 æ•°æ®å­˜å‚¨

**é…ç½®æ–‡ä»¶ç»“æž„ï¼š**

```
ç”¨æˆ·æ•°æ®ç›®å½•/
â”œâ”€â”€ config.json          # åº”ç”¨é…ç½®
â”œâ”€â”€ accounts.json        # è´¦æˆ·åˆ—è¡¨ï¼ˆä¸å«æ•æ„Ÿä¿¡æ¯ï¼‰
â””â”€â”€ models.json          # æ¨¡åž‹é…ç½®ï¼ˆåˆ«åã€æ˜¾ç¤ºçŠ¶æ€ç­‰ï¼‰
```

**Token å­˜å‚¨ï¼š**
- ä½¿ç”¨ç³»ç»Ÿ Keychainï¼ˆmacOSï¼‰/ Credential Managerï¼ˆWindowsï¼‰/ Secret Serviceï¼ˆLinuxï¼‰
- æˆ–ä½¿ç”¨ electron-store åŠ å¯†å­˜å‚¨

### 3.4 é¡¹ç›®ç»“æž„

```
ag-quota-watcher-desktop/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ main/                 # Electron ä¸»è¿›ç¨‹
â”‚   â”‚   â”œâ”€â”€ index.ts          # ä¸»è¿›ç¨‹å…¥å£
â”‚   â”‚   â”œâ”€â”€ window.ts         # çª—å£ç®¡ç†
â”‚   â”‚   â”œâ”€â”€ tray.ts           # ç³»ç»Ÿæ‰˜ç›˜
â”‚   â”‚   â”œâ”€â”€ store.ts          # æ•°æ®å­˜å‚¨
â”‚   â”‚   â””â”€â”€ ipc.ts            # IPC é€šä¿¡
â”‚   â”œâ”€â”€ renderer/             # React æ¸²æŸ“è¿›ç¨‹
â”‚   â”‚   â”œâ”€â”€ App.tsx           # åº”ç”¨å…¥å£
â”‚   â”‚   â”œâ”€â”€ components/       # UI ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ hooks/            # è‡ªå®šä¹‰ Hooks
â”‚   â”‚   â”œâ”€â”€ stores/           # çŠ¶æ€ç®¡ç†
â”‚   â”‚   â”œâ”€â”€ i18n/             # å›½é™…åŒ–
â”‚   â”‚   â””â”€â”€ styles/           # æ ·å¼æ–‡ä»¶
â”‚   â”œâ”€â”€ shared/               # å…±äº«ä»£ç 
â”‚   â”‚   â”œâ”€â”€ api/              # API å®¢æˆ·ç«¯ï¼ˆå¤ç”¨ï¼‰
â”‚   â”‚   â”œâ”€â”€ auth/             # è®¤è¯é€»è¾‘
â”‚   â”‚   â””â”€â”€ types/            # ç±»åž‹å®šä¹‰
â”‚   â””â”€â”€ preload/              # é¢„åŠ è½½è„šæœ¬
â”œâ”€â”€ resources/                # é™æ€èµ„æºï¼ˆå›¾æ ‡ç­‰ï¼‰
â”œâ”€â”€ docs/                     # æ–‡æ¡£
â””â”€â”€ package.json
```

---

## å››ã€ç•Œé¢è®¾è®¡

### 4.1 ä¸»çª—å£å¸ƒå±€

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  [è´¦æˆ·: user@gmail.com â–¼] [âš™ï¸]  â”‚  â† é¡¶éƒ¨æ ï¼šè´¦æˆ·åˆ‡æ¢ + è®¾ç½®æŒ‰é’®
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                 â”‚
â”‚   â”Œâ”€â”€â”€â”  â”Œâ”€â”€â”€â”  â”Œâ”€â”€â”€â”  â”Œâ”€â”€â”€â”   â”‚
â”‚   â”‚ â—¯ â”‚  â”‚ â—¯ â”‚  â”‚ â—¯ â”‚  â”‚ â—¯ â”‚   â”‚  â† åœ†çŽ¯è¿›åº¦æ¡
â”‚   â”‚75%â”‚  â”‚45%â”‚  â”‚20%â”‚  â”‚ 0%â”‚   â”‚
â”‚   â””â”€â”€â”€â”˜  â””â”€â”€â”€â”˜  â””â”€â”€â”€â”˜  â””â”€â”€â”€â”˜   â”‚
â”‚    Pro   Flash  Claude  GPT    â”‚  â† æ¨¡åž‹åˆ«å
â”‚                                 â”‚
â”‚   ä¸‹æ¬¡é‡ç½®: 12:34:56           â”‚  â† é‡ç½®å€’è®¡æ—¶
â”‚                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 4.2 è®¾ç½®é¡µé¢

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  [â†] è®¾ç½®                       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                 â”‚
â”‚  è´¦æˆ·ç®¡ç†                       â”‚
â”‚  â”œâ”€ user1@gmail.com    [åˆ é™¤]  â”‚
â”‚  â”œâ”€ user2@gmail.com    [åˆ é™¤]  â”‚
â”‚  â””â”€ [+ æ·»åŠ è´¦æˆ·]               â”‚
â”‚                                 â”‚
â”‚  æ¨¡åž‹é…ç½®                       â”‚
â”‚  â”œâ”€ â˜‘ gemini-2.5-pro  [Pro  ]  â”‚
â”‚  â”œâ”€ â˜‘ gemini-2.5-flash[Flash]  â”‚
â”‚  â”œâ”€ â˜ claude-3.5      [Claude] â”‚
â”‚  â””â”€ [åˆ·æ–°æ¨¡åž‹åˆ—è¡¨]             â”‚
â”‚                                 â”‚
â”‚  æ˜¾ç¤ºè®¾ç½®                       â”‚
â”‚  â”œâ”€ åˆ·æ–°é¢‘çŽ‡: [60] ç§’          â”‚
â”‚  â”œâ”€ è­¦å‘Šé˜ˆå€¼: [50] %           â”‚
â”‚  â”œâ”€ ç´§æ€¥é˜ˆå€¼: [30] %           â”‚
â”‚  â”œâ”€ å¼€æœºè‡ªå¯: [å¼€å…³]           â”‚
â”‚  â”œâ”€ ç³»ç»Ÿé€šçŸ¥: [å¼€å…³]           â”‚
â”‚  â””â”€ è¯­è¨€: [ä¸­æ–‡ â–¼]             â”‚
â”‚                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 4.3 æ‰˜ç›˜èœå•

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ æ˜¾ç¤ºä¸»çª—å£      â”‚
â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ â”‚
â”‚ ç«‹å³åˆ·æ–°        â”‚
â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ â”‚
â”‚ è®¾ç½®            â”‚
â”‚ å…³äºŽ            â”‚
â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ â”‚
â”‚ é€€å‡º            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## äº”ã€å¼€å‘è®¡åˆ’

### 5.1 é‡Œç¨‹ç¢‘

| é˜¶æ®µ | å†…å®¹ | é¢„è®¡æ—¶é—´ |
|------|------|----------|
| M1 | é¡¹ç›®åˆå§‹åŒ– + åŸºç¡€æ¡†æž¶æ­å»º | 1 å¤© |
| M2 | Google OAuth è®¤è¯æµç¨‹ | 1 å¤© |
| M3 | API é›†æˆ + é…é¢èŽ·å– | 1 å¤© |
| M4 | ä¸»ç•Œé¢ UIï¼ˆåœ†çŽ¯ç»„ä»¶ï¼‰ | 1 å¤© |
| M5 | è®¾ç½®é¡µé¢ + å¤šè´¦æˆ·ç®¡ç† | 1 å¤© |
| M6 | ç³»ç»Ÿæ‰˜ç›˜ + é€šçŸ¥ + å¼€æœºè‡ªå¯ | 1 å¤© |
| M7 | å›½é™…åŒ– + ä¼˜åŒ– + æµ‹è¯• | 1 å¤© |
| M8 | æ‰“åŒ…å‘å¸ƒ | 0.5 å¤© |

### 5.2 è¯¦ç»†ä»»åŠ¡

**M1: é¡¹ç›®åˆå§‹åŒ–**
- [x] åˆ›å»º Electron + React + TypeScript é¡¹ç›®
- [x] é…ç½® Vite æž„å»º
- [x] é…ç½® ESLint + Prettier
- [x] åˆ›å»ºåŸºç¡€çª—å£

**M2: Google OAuth**
- [x] å¤ç”¨ OAuth å¸¸é‡é…ç½®
- [x] å®žçŽ°æ¡Œé¢ç«¯ OAuth æµç¨‹ï¼ˆä½¿ç”¨ loopback redirectï¼‰
- [x] å®žçŽ° Token å®‰å…¨å­˜å‚¨
- [x] å®žçŽ° Token è‡ªåŠ¨åˆ·æ–°

**M3: API é›†æˆ**
- [x] å¤ç”¨ GoogleCloudCodeClient
- [x] å®žçŽ°é…é¢è½®è¯¢æœåŠ¡
- [x] å®žçŽ°å¤šè´¦æˆ·é…é¢ç®¡ç†

**M4: ä¸»ç•Œé¢ UI**
- [x] å®žçŽ°åœ†çŽ¯è¿›åº¦æ¡ç»„ä»¶
- [x] å®žçŽ°é¢œè‰²åˆ†çº§é€»è¾‘
- [x] å®žçŽ°è´¦æˆ·åˆ‡æ¢ä¸‹æ‹‰æ¡†
- [x] å®žçŽ°é‡ç½®æ—¶é—´å€’è®¡æ—¶

**M5: è®¾ç½®é¡µé¢**
- [x] å®žçŽ°è´¦æˆ·ç®¡ç†ç•Œé¢
- [x] å®žçŽ°æ¨¡åž‹é…ç½®ç•Œé¢ï¼ˆåˆ«åç¼–è¾‘ã€æ˜¾ç¤ºå¼€å…³ï¼‰
- [x] å®žçŽ°æ˜¾ç¤ºè®¾ç½®ç•Œé¢
- [x] å®žçŽ°æ•°æ®æŒä¹…åŒ–

**M6: ç³»ç»ŸåŠŸèƒ½**
- [x] å®žçŽ°ç³»ç»Ÿæ‰˜ç›˜
- [x] å®žçŽ°æœ€å°åŒ–åˆ°æ‰˜ç›˜
- [ ] å®žçŽ°ç³»ç»Ÿé€šçŸ¥
- [x] å®žçŽ°å¼€æœºè‡ªå¯

**M7: å›½é™…åŒ–ä¸Žä¼˜åŒ–**
- [x] å®žçŽ° i18n æ¡†æž¶
- [x] æ·»åŠ ä¸­è‹±æ–‡ç¿»è¯‘
- [x] æ€§èƒ½ä¼˜åŒ–
- [x] é”™è¯¯å¤„ç†å®Œå–„

**M8: æ‰“åŒ…å‘å¸ƒ**
- [ ] é…ç½® electron-builder
- [ ] æ‰“åŒ… Windows å®‰è£…åŒ…
- [ ] æ‰“åŒ… macOS å®‰è£…åŒ…
- [ ] ç¼–å†™ä½¿ç”¨æ–‡æ¡£

---

## å…­ã€é£Žé™©ä¸Žæ³¨æ„äº‹é¡¹

### 6.1 æŠ€æœ¯é£Žé™©

| é£Žé™© | å½±å“ | åº”å¯¹æŽªæ–½ |
|------|------|----------|
| Google API å˜æ›´ | é…é¢èŽ·å–å¤±è´¥ | å…³æ³¨ä¸Šæ¸¸é¡¹ç›®æ›´æ–°ï¼ŒåŠæ—¶é€‚é… |
| OAuth å‡­æ®å¤±æ•ˆ | æ— æ³•ç™»å½• | ä½¿ç”¨ä¸Žä¸Šæ¸¸ç›¸åŒçš„å‡­æ® |
| Electron å®‰å…¨æ¼æ´ž | åº”ç”¨å®‰å…¨ | åŠæ—¶æ›´æ–° Electron ç‰ˆæœ¬ |

### 6.2 æ³¨æ„äº‹é¡¹

1. **OAuth å‡­æ®**ï¼šä½¿ç”¨ Google Cloud Code çš„å®˜æ–¹ OAuth å‡­æ®ï¼Œä¸Žä¸Šæ¸¸é¡¹ç›®ä¿æŒä¸€è‡´
2. **Token å®‰å…¨**ï¼šå¿…é¡»åŠ å¯†å­˜å‚¨ OAuth Tokenï¼Œä¸èƒ½æ˜Žæ–‡ä¿å­˜
3. **API é¢‘çŽ‡**ï¼šåˆç†è®¾ç½®è½®è¯¢é—´éš”ï¼Œé¿å…è§¦å‘ API é™æµ
4. **éšç§ä¿æŠ¤**ï¼šä¸æ”¶é›†ç”¨æˆ·æ•°æ®ï¼Œæ‰€æœ‰æ•°æ®æœ¬åœ°å­˜å‚¨

---

## ä¸ƒã€Google API æŠ€æœ¯è§„èŒƒ

è¯¦ç»†çš„ Google API è°ƒç”¨è§„èŒƒè¯·å‚é˜…ï¼š**[ðŸ“– GOOGLE_API_SPEC.md](./GOOGLE_API_SPEC.md)**

è¯¥æ–‡æ¡£åŒ…å«ï¼š
- OAuth 2.0 å®Œæ•´è®¤è¯æµç¨‹ï¼ˆå‡­æ®ã€ç«¯ç‚¹ã€PKCEï¼‰
- é…é¢æŸ¥è¯¢ API è¯¦ç»†è§„èŒƒ
- è¯·æ±‚/å“åº”æ ¼å¼ç¤ºä¾‹
- é”™è¯¯å¤„ç†ç­–ç•¥
- æ•°æ®ç±»åž‹å®šä¹‰

---

## å…«ã€å‚è€ƒèµ„æ–™

- [antigravity-quota-watcher æºç ](https://github.com/wusimpl/AntigravityQuotaWatcher)
- [Electron å®˜æ–¹æ–‡æ¡£](https://www.electronjs.org/docs)
- [Google OAuth 2.0 for Desktop Apps](https://developers.google.com/identity/protocols/oauth2/native-app)
- [electron-builder æ–‡æ¡£](https://www.electron.build/)

---

*æ–‡æ¡£ç‰ˆæœ¬: 1.0*  
*åˆ›å»ºæ—¥æœŸ: 2026-01-06*
